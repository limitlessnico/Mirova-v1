<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Mirova-OVDAS VRP Monitor</title>
    <style>
        body { background-color: #0b0e14; color: #e0e0e0; font-family: 'Segoe UI', sans-serif; margin: 0; }
        #audit-bar { background: #161b22; padding: 12px 25px; border-bottom: 1px solid #30363d; display: flex; justify-content: space-between; align-items: center; font-size: 0.85em; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(450px, 1fr)); gap: 20px; padding: 20px; }
        .card { background: #161b22; border: 1px solid #30363d; border-radius: 8px; padding: 15px; text-align: center; }
        .card h2 { margin: 0 0 10px 0; font-size: 1.2em; color: #58a6ff; }
        iframe { width: 100%; height: 320px; border: none; }
        footer { padding: 20px; text-align: center; color: #8b949e; font-size: 0.8em; border-top: 1px solid #30363d; }
    </style>
</head>
<body>
    <div id="audit-bar">
        <div>SINCRONIZACIÃ“N OVDAS: <span id="last-sync">--:--</span></div>
        <div id="sys-status">Cargando...</div>
    </div>
    
    <div class="grid" id="galeria"></div>

    <footer>
        <p>ðŸ“Š CrÃ©ditos: Mirova Web (Turin) & OVDAS Chile | Â© 2026 MendozaVolcanic</p>
    </footer>

    <script>
        const volcanes = ["Isluga", "Lascar", "Lastarria", "Peteroa", "Nevados_de_Chillan", "Copahue", "Llaima", "Villarrica", "Puyehue-Cordon_Caulle", "Chaiten"];
        
        function cargar() {
            const container = document.getElementById('galeria');
            volcanes.forEach(v => {
                const card = document.createElement('div');
                card.className = 'card';
                card.innerHTML = `<h2>${v.replace(/_/g, ' ')}</h2><iframe src="monitoreo_satelital/v_html/${v}.html"></iframe>`;
                container.appendChild(card);
            });

            fetch('monitoreo_satelital/estado_sistema.json').then(r => r.json()).then(data => {
                document.getElementById('last-sync').innerText = data.ultima_actualizacion;
                document.getElementById('sys-status').innerText = data.estado;
                document.getElementById('sys-status').style.color = data.color;
            });
        }
        window.onload = cargar;
    </script>
</body>
</html>
